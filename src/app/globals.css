@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 231 48% 97%;
    --foreground: 231 48% 15%;
    --card: 231 48% 100%;
    --card-foreground: 231 48% 15%;
    --popover: 231 48% 100%;
    --popover-foreground: 231 48% 15%;
    --primary: 217 91% 60%;
    --primary-foreground: 0 0% 100%;
    --secondary: 231 48% 90%;
    --secondary-foreground: 231 48% 25%;
    --muted: 231 48% 90%;
    --muted-foreground: 231 48% 40%;
    --accent: 217 91% 60%;
    --accent-foreground: 0 0% 100%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 231 48% 88%;
    --input: 231 48% 88%;
    --ring: 217 91% 60%;
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
    --radius: 0.5rem;
  }
  .dark {
    --background: 231 20% 12%;
    --foreground: 0 0% 98%;
    --card: 231 20% 12%;
    --card-foreground: 0 0% 98%;
    --popover: 231 20% 12%;
    --popover-foreground: 0 0% 98%;
    --primary: 217 91% 70%;
    --primary-foreground: 0 0% 100%;
    --secondary: 231 20% 20%;
    --secondary-foreground: 0 0% 98%;
    --muted: 231 20% 20%;
    --muted-foreground: 0 0% 63.9%;
    --accent: 217 91% 70%;
    --accent-foreground: 0 0% 0%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 231 20% 25%;
    --input: 231 20% 25%;
    --ring: 217 91% 70%;
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

.dark body {
  /* Gradient removed, theme's own dark color will be used */
}

/* Code Highlighting Styles */
.hljs {
  background: #1e293b;
  color: #e2e8f0;
  padding: 1rem;
  border-radius: 0.5rem;
  overflow-x: auto;
}

.hljs-keyword {
  color: #fbbf24;
}

.hljs-string {
  color: #34d399;
}

.hljs-number {
  color: #60a5fa;
}

.hljs-comment {
  color: #6b7280;
  font-style: italic;
}

.hljs-function {
  color: #a78bfa;
}

.hljs-variable {
  color: #f87171;
}

.hljs-operator {
  color: #f59e0b;
}

.hljs-punctuation {
  color: #e5e7eb;
}

/* Dark mode adjustments */
.dark .hljs {
  background: #0f172a;
  color: #f1f5f9;
}

.dark .hljs-keyword {
  color: #fbbf24;
}

.dark .hljs-string {
  color: #34d399;
}

.dark .hljs-number {
  color: #60a5fa;
}

.dark .hljs-comment {
  color: #64748b;
}

.dark .hljs-function {
  color: #a78bfa;
}

.dark .hljs-variable {
  color: #f87171;
}

.dark .hljs-operator {
  color: #f59e0b;
}

.dark .hljs-punctuation {
  color: #cbd5e1;
}

/* Compact Mode Styles */
.compact-mode {
  --spacing-xs: 0.25rem;
  --spacing-sm: 0.5rem;
  --spacing-md: 0.75rem;
  --spacing-lg: 1rem;
  --spacing-xl: 1.25rem;
}

.compact-mode .p-4 {
  padding: var(--spacing-sm) !important;
}

.compact-mode .p-8 {
  padding: var(--spacing-md) !important;
}

.compact-mode .space-y-4 > * + * {
  margin-top: var(--spacing-sm) !important;
}

.compact-mode .space-y-8 > * + * {
  margin-top: var(--spacing-md) !important;
}

.compact-mode .gap-4 {
  gap: var(--spacing-sm) !important;
}

.compact-mode .gap-8 {
  gap: var(--spacing-md) !important;
}

.compact-mode .h-16 {
  height: 3rem !important;
}

.compact-mode .text-3xl {
  font-size: 1.5rem !important;
}

.compact-mode .w-8 {
  width: 1.5rem !important;
}

.compact-mode .h-8 {
  height: 1.5rem !important;
}

/* Markdown Styles */
.markdown {
  @apply text-foreground;
}

.markdown h1 {
  @apply text-2xl font-bold mb-4 text-foreground;
}

.markdown h2 {
  @apply text-xl font-semibold mb-3 text-foreground;
}

.markdown h3 {
  @apply text-lg font-medium mb-2 text-foreground;
}

.markdown h4 {
  @apply text-base font-medium mb-2 text-foreground;
}

.markdown h5 {
  @apply text-sm font-medium mb-1 text-foreground;
}

.markdown h6 {
  @apply text-xs font-medium mb-1 text-foreground;
}

.markdown p {
  @apply mb-3 text-muted-foreground leading-relaxed;
}

.markdown ul {
  @apply mb-3 pl-6 list-disc text-muted-foreground;
}

.markdown ol {
  @apply mb-3 pl-6 list-decimal text-muted-foreground;
}

.markdown li {
  @apply mb-1;
}

.markdown blockquote {
  @apply border-l-4 border-primary/30 pl-4 py-2 mb-3 bg-muted/30 rounded-r-lg;
}

.markdown code {
  @apply bg-muted px-2 py-1 rounded text-sm font-mono text-foreground;
}

.markdown pre {
  @apply bg-muted p-4 rounded-lg mb-3 overflow-x-auto;
}

.markdown pre code {
  @apply bg-transparent p-0;
}

.markdown strong {
  @apply font-semibold text-foreground;
}

.markdown em {
  @apply italic text-muted-foreground;
}

.markdown a {
  @apply text-primary hover:underline;
}

.markdown table {
  @apply w-full border-collapse mb-3;
}

.markdown th {
  @apply border border-border px-3 py-2 text-left font-medium bg-muted;
}

.markdown td {
  @apply border border-border px-3 py-2;
}

.markdown hr {
  @apply border-border my-4;
}

/* AI Tutor specific styles */
.ai-tutor-markdown {
  @apply text-sm leading-relaxed;
}

.ai-tutor-markdown h1,
.ai-tutor-markdown h2,
.ai-tutor-markdown h3 {
  @apply text-base font-semibold mb-2 text-foreground;
}

.ai-tutor-markdown p {
  @apply mb-2 text-muted-foreground;
}

.ai-tutor-markdown ul,
.ai-tutor-markdown ol {
  @apply mb-2 pl-4;
}

.ai-tutor-markdown li {
  @apply mb-1 text-muted-foreground;
}

.ai-tutor-markdown strong {
  @apply font-semibold text-foreground;
}

.ai-tutor-markdown code {
  @apply bg-muted/50 px-1 py-0.5 rounded text-xs font-mono;
}

/* REAL GLASS BACKGROUND - TRANSPARENT GLASSMORPHISM */
.glass-card {
  /* Light theme: More opaque and bright white base */
  background: rgba(255, 255, 255, 0.9) !important;
  backdrop-filter: blur(16px) saturate(180%) !important;
  -webkit-backdrop-filter: blur(16px) saturate(180%) !important;
  border: 1px solid rgba(255, 255, 255, 0.3) !important;
  box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15), 0 0 16px 0 rgba(59, 130, 246, 0.2) !important;
  border-radius: 24px !important;
}

.dark .glass-card {
  /* Dark theme: More transparent and prominent glass effect */
  background: rgba(40, 48, 64, 0.75) !important;
  border: 1px solid rgba(255, 255, 255, 0.2) !important;
  box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3), 0 0 16px 0 rgba(59, 130, 246, 0.1) !important;
}

.glass-card-inner {
  background: rgba(255, 255, 255, 0.1) !important;
  backdrop-filter: blur(8px) saturate(180%) !important;
  -webkit-backdrop-filter: blur(8px) saturate(180%) !important;
  border: 1px solid rgba(255, 255, 255, 0.2) !important;
  border-radius: 12px !important;
}

/* BORDER GRADIENT FOR ACTIVE SUBJECT CARDS */
.border-gradient-active {
  border: 2px solid transparent !important;
  background: linear-gradient(white, white) padding-box, linear-gradient(to right, #2563eb, #9333ea) border-box !important;
}

.dark .border-gradient-active {
  background: linear-gradient(#1f2937, #1f2937) padding-box, linear-gradient(to right, #2563eb, #9333ea) border-box !important;
}

/* BORDER GRADIENT FOR QUESTION CARDS */
.border-gradient-question {
  border: 2px solid transparent !important;
  background: linear-gradient(white, white) padding-box, linear-gradient(to right, #2563eb, #9333ea) border-box !important;
}

.dark .border-gradient-question {
  background: linear-gradient(#1f2937, #1f2937) padding-box, linear-gradient(to right, #2563eb, #9333ea) border-box !important;
}

/* BORDER GRADIENT FOR GREEN CARDS */
.border-gradient-green {
  border: 2px solid transparent !important;
  background: linear-gradient(white, white) padding-box, linear-gradient(to right, #10b981, #059669) border-box !important;
}

.dark .border-gradient-green {
  background: linear-gradient(#1f2937, #1f2937) padding-box, linear-gradient(to right, #10b981, #059669) border-box !important;
}

/* BORDER GRADIENT FOR PURPLE CARDS */
.border-gradient-purple {
  border: 2px solid transparent !important;
  background: linear-gradient(white, white) padding-box, linear-gradient(to right, #9333ea, #7c3aed) border-box !important;
}

.dark .border-gradient-purple {
  background: linear-gradient(#1f2937, #1f2937) padding-box, linear-gradient(to right, #9333ea, #7c3aed) border-box !important;
}

/* BORDER GRADIENT FOR ORANGE CARDS */
.border-gradient-orange {
  border: 2px solid transparent !important;
  background: linear-gradient(white, white) padding-box, linear-gradient(to right, #f97316, #dc2626) border-box !important;
}

.dark .border-gradient-orange {
  background: linear-gradient(#1f2937, #1f2937) padding-box, linear-gradient(to right, #f97316, #dc2626) border-box !important;
}

/* BORDER GRADIENT FOR YELLOW CARDS */
.border-gradient-yellow {
  border: 2px solid transparent !important;
  background: linear-gradient(white, white) padding-box, linear-gradient(to right, #eab308, #d97706) border-box !important;
}

.dark .border-gradient-yellow {
  background: linear-gradient(#1f2937, #1f2937) padding-box, linear-gradient(to right, #eab308, #d97706) border-box !important;
}

/* BORDER GRADIENT FOR TEAL CARDS */
.border-gradient-teal {
  border: 2px solid transparent !important;
  background: linear-gradient(white, white) padding-box, linear-gradient(to right, #14b8a6, #0891b2) border-box !important;
}

.dark .border-gradient-teal {
  background: linear-gradient(#1f2937, #1f2937) padding-box, linear-gradient(to right, #14b8a6, #0891b2) border-box !important;
}

.glass-sheet {
  background: rgba(255, 255, 255, 0.75) !important;
  backdrop-filter: blur(16px) saturate(180%) !important;
  -webkit-backdrop-filter: blur(16px) saturate(180%) !important;
  border: 1px solid rgba(255, 255, 255, 0.2) !important;
  box-shadow: 
    inset 0 1px 0 0 rgba(255, 255, 255, 0.4),
    0 20px 40px rgba(0, 0, 0, 0.15) !important;
}

.dark .glass-sheet {
  background: rgba(17, 25, 40, 0.75) !important;
  border: 1px solid rgba(255, 255, 255, 0.125) !important;
  box-shadow: 
    inset 0 1px 0 0 rgba(255, 255, 255, 0.1),
    0 20px 40px rgba(0, 0, 0, 0.2) !important;
}

/* LIQUID GLASS NAVIGATION */
.glass-nav {
  /* NAVIGATION GLASS */
  background: rgba(255, 255, 255, 0.1) !important; /* VERY TRANSPARENT */
  backdrop-filter: blur(25px) saturate(200%) !important;
  -webkit-backdrop-filter: blur(25px) saturate(200%) !important;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
}

.dark .glass-nav {
  background: rgba(0, 0, 0, 0.1) !important;
  border-bottom: 1px solid rgba(255, 255, 255, 0.05) !important;
}

/* GRADIENT PROGRESS BAR */
.progress-gradient {
  background: linear-gradient(to right, #4f46e5, #7c3aed) !important;
}

.progress-gradient-bg {
  background: #e0e7ff !important;
}

.dark .progress-gradient-bg {
  background: #1e1b4b !important;
}

/* GRADIENT BADGES */
.badge-gradient-high {
  background: linear-gradient(to right, #2563eb, #7c3aed) !important;
  color: white !important;
  border: none !important;
}

.badge-gradient-medium {
  background: linear-gradient(to right, #eab308, #f59e0b) !important;
  color: white !important;
  border: none !important;
}

.badge-gradient-low {
  background: linear-gradient(to right, #dc2626, #ec4899) !important;
  color: white !important;
  border: none !important;
}

/* GRADIENT TOAST BORDER */
.border-gradient-toast {
  border: 2px solid transparent !important;
  background: linear-gradient(white, white) padding-box, linear-gradient(to right, #2563eb, #9333ea) border-box !important;
  border-radius: 0.5rem !important;
}

.dark .border-gradient-toast {
  background: linear-gradient(#1f2937, #1f2937) padding-box, linear-gradient(to right, #2563eb, #9333ea) border-box !important;
  border-radius: 0.5rem !important;
}